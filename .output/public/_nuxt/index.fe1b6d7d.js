import{b as M,r as n,m,u as s,c as i,F as D,a as c,q as y,h as R,t as _,w as T,f as V,p as O,k as q,d as z,e as K,o as u,s as U}from"./entry.60f56687.js";const Y={key:0,class:"diss-card text-center"},G=c("h1",{class:"mb-6"},"Diss Card",-1),H={class:"card"},J={key:0},Q={class:"grid mt-4 mb-6 justify-content-center"},W=c("div",{class:"col col-12 md:col-3 lg:col-2 xl:col answer-card mx-2 mb-3"},[c("textarea",{type:"text",class:"w-full",placeholder:"Enter your own punchline here!"})],-1),$={__name:"index",async setup(X){let a,o;const f=q(),h=M(f.supabaseUrl,f.supabaseKey),p=n(null),l=n([]),r=n(0),b=n(!1),t=n(null),v=n(null);let{data:w}=([a,o]=m(()=>h.from("subjects").select("*").order("subject")),a=await a,o(),a);w&&(v.value=w);let{data:g}=([a,o]=m(()=>h.from("adjectives").select("*").order("adjective")),a=await a,o(),a);g&&(p.value=g);let S={category:"SPECIAL",punchline:"Dismiss! I'm rubber, you're glue! (Block any card played by another player.)"},k={category:"SPECIAL",punchline:"Disallow! Target player can't play a card."},A={category:"SPECIAL",punchline:"Discard! Take any card that another player has played and use it yourself"},I={category:"SPECIAL",punchline:"Nothing beats DISS CARD! Automatically win the round!"},E={category:"SPECIAL",punchline:"Disembowel! Target player (or yourself) draws a new hand of cards."},L={category:"SPECIAL",punchline:"Disheveled! Swap any player's hand with another player's hand."};for(let e=0;e<v.value.length;e++)for(let d=0;d<p.value.length;d++)l.value.push({subject:v.value[e].subject,adjective:p.value[d].adjective});l.value.sort(()=>Math.random()-.5);const C=()=>{r.value++,b.value=Math.random()<.2},N=()=>{var e;t.value.sort(()=>Math.random()-.5),((e=l.value)==null?void 0:e.length)-1===r.value?(l.value.sort(()=>Math.random()-.5),r.value=0):C()};let{data:j}=([a,o]=m(()=>h.from("punchlines").select("*").order("id")),a=await a,o(),a);if(j){t.value=j;for(let e=0;e<20;e++)t.value.push(S),t.value.push(A),t.value.push(E),t.value.push(k),t.value.push(L);for(let e=0;e<10;e++)t.value.push(I);t.value.sort(()=>Math.random()-.5)}return(e,d)=>{const B=z("Button"),P=K("tooltip");return s(t)?(u(),i("div",Y,[G,s(l)&&s(l)[s(r)]?(u(),i(D,{key:0},[c("div",H,[s(b)?(u(),i("span",J,"DISS OFF!")):y("",!0),R(" Your "+_(s(l)[s(r)].subject)+" is so "+_(s(l)[s(r)].adjective)+"... ",1)]),T(V(B,{class:"p-button-outlined p-button-rounded refresh mb-4",icon:"pi pi-refresh","aria-label":"Filter",onClick:C},null,512),[[P,"Select a new card"]]),c("div",Q,[(u(!0),i(D,null,O(s(t).slice(0,6),(x,F)=>(u(),i("div",{key:F,class:U(["col col-4 md:col-3 lg:col-2 xl:col answer-card mx-2 mb-3",x.category])},_(x.punchline),3))),128)),W]),c("button",{class:"button cursor-pointer mb-6",onClick:N}," Start A New Round ")],64)):y("",!0)])):y("",!0)}}};export{$ as default};
