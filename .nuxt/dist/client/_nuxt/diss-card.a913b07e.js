import{b as V,r as m,w as g,d as A,c as n,u as e,F as f,a as s,t as c,e as E,f as D,g as b,h as I,i as K,j as B,k as L,o as r}from"./entry.6033c19b.js";const P={class:"diss-card text-center"},U=s("h1",{class:"mb-6"},"Diss Card",-1),Y={class:"card"},q={class:"flex mt-4 mb-6"},z={class:"text-left"},G={class:"mt-4"},H={class:"mt-4"},Q={__name:"diss-card",async setup(J){let t,d;const y=K(),j=V(y.supabaseUrl,y.supabaseKey),p=m(null),l=m([]),v=m(0),_=m(null),h=m(null);let{data:k}=([t,d]=g(()=>j.from("subjects").select("*")),t=await t,d(),t);k&&(h.value=k);let{data:w}=([t,d]=g(()=>j.from("adjectives").select("*")),t=await t,d(),t);w&&(p.value=w);let{data:C}=([t,d]=g(()=>j.from("punchlines").select("*")),t=await t,d(),t);C&&(_.value=C,_.value.sort(()=>Math.random()-.5));for(let a=0;a<h.value.length;a++)for(let u=0;u<p.value.length;u++)l.value.push({subject:h.value[a].subject,adjective:p.value[u].adjective});l.value.sort(()=>Math.random()-.5);const x=()=>{v.value++},N=()=>{var a;_.value.sort(()=>Math.random()-.5),((a=l.value)==null?void 0:a.length)-1===v.value?(l.value.sort(()=>Math.random()-.5),v.value=0):x()},M=A(()=>_.value.sort((a,u)=>a.category<u.category?-1:a.category>u.category?1:0));return(a,u)=>{const F=B("Button"),R=B("Divider"),S=L("tooltip");return r(),n("div",P,[U,e(l)&&e(l)[e(v)]?(r(),n(f,{key:0},[s("div",Y," Your "+c(e(l)[e(v)].subject)+" is so "+c(e(l)[e(v)].adjective)+"... ",1),E(D(F,{class:"p-button-outlined p-button-rounded refresh mb-4",icon:"pi pi-refresh","aria-label":"Filter",onClick:x},null,512),[[S,"Select a new card"]]),s("div",q,[(r(!0),n(f,null,b(e(_).slice(0,7),(o,i)=>(r(),n("div",{key:i,class:"answer-card mx-2"},c(o.punchline),1))),128))]),s("button",{class:"button cursor-pointer",onClick:N}," Start A New Round ")],64)):I("",!0),D(R,{class:"my-6"}),s("div",z,[s("p",null,[s("u",null,"subjects ("+c(e(h).length)+")",1)]),(r(!0),n(f,null,b(e(h),(o,i)=>(r(),n("p",{key:i},c(o.subject),1))),128)),s("p",G,[s("u",null,"adjectives ("+c(e(p).length)+")",1)]),(r(!0),n(f,null,b(e(p),(o,i)=>(r(),n("p",{key:i},c(o.adjective),1))),128)),s("p",H,[s("u",null,"punchlines ("+c(e(_).length)+")",1)]),(r(!0),n(f,null,b(e(M),(o,i)=>(r(),n("p",{key:i}," ("+c(o.category)+") "+c(o.punchline),1))),128))])])}}};export{Q as default};
