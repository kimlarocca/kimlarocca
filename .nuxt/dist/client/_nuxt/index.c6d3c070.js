import{_ as W}from"./Logo.718df5a7.js";import{b as G,r as c,m as v,u as s,c as i,f as _,F as k,a as o,q as y,h as R,t as f,w as A,p as q,k as z,d as H,e as K,o as u,s as U}from"./entry.c42e89c3.js";const Y={key:0,class:"diss-card text-center"},$={class:"relative w-fit m-auto mb-4"},J={class:"card"},Q={key:0},X={class:"grid mx-2 mt-4 mb-6 justify-content-center"},Z=o("div",{class:"col col-12 sm:col-6 md:col-4 lg:col-2 xl:col answer-card mx-2 mb-3"},[o("textarea",{type:"text",class:"w-full",placeholder:"Enter your own diss here!"})],-1),le={__name:"index",async setup(ee){let t,n;const b=z(),p=G(b.supabaseUrl,b.supabaseKey),h=c(null),l=c([]),r=c(0),S=c(!1),a=c(null),m=c(null);let{data:g}=([t,n]=v(()=>p.from("subjects").select("*").order("subject")),t=await t,n(),t);g&&(m.value=g);let{data:w}=([t,n]=v(()=>p.from("adjectives").select("*").order("adjective")),t=await t,n(),t);w&&(h.value=w);let L={category:"SPECIAL",punchline:"I'm rubber, you're glue! DISSMISS any card played by another player."},N={category:"SPECIAL",punchline:"DISSALLOW! Target player can't play a card."},M={category:"SPECIAL",punchline:"DISSOWNED! Take any card another player has played and use it yourself."},P={category:"SPECIAL",punchline:"Nothing beats DISS CARD! Automatically win the round."},B={category:"SPECIAL",punchline:"DISSEMBOWELED! Target player must draw a new hand of cards."},F={category:"SPECIAL",punchline:"DISSHEVELED! Swap any player's hand with another player's hand."};for(let e=0;e<m.value.length;e++)for(let d=0;d<h.value.length;d++)l.value.push({subject:m.value[e].subject,adjective:h.value[d].adjective});l.value.sort(()=>Math.random()-.5);const C=()=>{r.value++,S.value=Math.random()<.2},O=()=>{var e;a.value.sort(()=>Math.random()-.5),((e=l.value)==null?void 0:e.length)-1===r.value?(l.value.sort(()=>Math.random()-.5),r.value=0):C()};let{data:D}=([t,n]=v(()=>p.from("punchlines").select("*").order("id")),t=await t,n(),t);if(D){a.value=D;for(let e=0;e<20;e++)a.value.push(L),a.value.push(M),a.value.push(B),a.value.push(N),a.value.push(F);for(let e=0;e<10;e++)a.value.push(P);a.value.sort(()=>Math.random()-.5)}const V=e=>{a.value.splice(e,1)};return(e,d)=>{const T=W,j=H("Button"),x=K("tooltip");return s(a)?(u(),i("div",Y,[_(T,{class:"lg:mt-4 mb-2"}),s(l)&&s(l)[s(r)]?(u(),i(k,{key:0},[o("div",$,[o("div",J,[s(S)?(u(),i("span",Q,"DISS OFF!")):y("",!0),R(" Your "+f(s(l)[s(r)].subject)+" is so "+f(s(l)[s(r)].adjective)+"... ",1)]),A(_(j,{class:"p-button-outlined p-button-rounded refresh",icon:"pi pi-refresh","aria-label":"Filter",onClick:C},null,512),[[x,"Swap this card out"]])]),o("div",X,[(u(!0),i(k,null,q(s(a).slice(0,6),(I,E)=>(u(),i("div",{key:E,class:U(["col col-12 sm:col-6 md:col-4 lg:col-2 xl:col answer-card mx-2 mb-3 relative",I.category])},[o("div",null,f(I.punchline),1),A(_(j,{class:"p-button-outlined p-button-rounded remove",icon:"pi pi-refresh","aria-label":"remove card",onClick:te=>V(E)},null,8,["onClick"]),[[x,"Swap this card out"]])],2))),128)),Z]),o("button",{class:"button cursor-pointer mb-6",onClick:O}," Start A New Game ")],64)):y("",!0)])):y("",!0)}}};export{le as default};
