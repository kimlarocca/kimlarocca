import{_ as V}from"./Logo.a34225f2.js";import{b as R,r,m as v,u as s,c,f as j,F as C,a as i,q as _,h as T,t as y,w as W,p as q,k as z,d as H,e as K,o as u,s as U}from"./entry.22322935.js";const Y={key:0,class:"diss-card text-center"},G={class:"card"},J={key:0},Q={class:"grid mx-2 mt-4 mb-6 justify-content-center"},X=i("div",{class:"col col-12 sm:col-6 md:col-4 lg:col-2 xl:col answer-card mx-2 mb-3"},[i("textarea",{type:"text",class:"w-full",placeholder:"Enter your own diss here!"})],-1),te={__name:"index",async setup(Z){let t,o;const f=z(),p=R(f.supabaseUrl,f.supabaseKey),h=r(null),l=r([]),n=r(0),b=r(!1),a=r(null),m=r(null);let{data:g}=([t,o]=v(()=>p.from("subjects").select("*").order("subject")),t=await t,o(),t);g&&(m.value=g);let{data:w}=([t,o]=v(()=>p.from("adjectives").select("*").order("adjective")),t=await t,o(),t);w&&(h.value=w);let I={category:"SPECIAL",punchline:"I'm rubber, you're glue! DISMISS any card played by another player."},E={category:"SPECIAL",punchline:"DISALLOW! Target player can't play a card."},A={category:"SPECIAL",punchline:"DISOWNED! Take any card another player has played and use it yourself."},L={category:"SPECIAL",punchline:"Nothing beats DISS CARD! Automatically win the round."},k={category:"SPECIAL",punchline:"DISEMBOWELED! Target player must draw a new hand of cards."},N={category:"SPECIAL",punchline:"DISHEVELED! Swap any player's hand with another player's hand."};for(let e=0;e<m.value.length;e++)for(let d=0;d<h.value.length;d++)l.value.push({subject:m.value[e].subject,adjective:h.value[d].adjective});l.value.sort(()=>Math.random()-.5);const S=()=>{n.value++,b.value=Math.random()<.2},M=()=>{var e;a.value.sort(()=>Math.random()-.5),((e=l.value)==null?void 0:e.length)-1===n.value?(l.value.sort(()=>Math.random()-.5),n.value=0):S()};let{data:x}=([t,o]=v(()=>p.from("punchlines").select("*").order("id")),t=await t,o(),t);if(x){a.value=x;for(let e=0;e<20;e++)a.value.push(I),a.value.push(A),a.value.push(k),a.value.push(E),a.value.push(N);for(let e=0;e<10;e++)a.value.push(L);a.value.sort(()=>Math.random()-.5)}return(e,d)=>{const B=V,P=H("Button"),F=K("tooltip");return s(a)?(u(),c("div",Y,[j(B,{class:"lg:mt-4 mb-2"}),s(l)&&s(l)[s(n)]?(u(),c(C,{key:0},[i("div",G,[s(b)?(u(),c("span",J,"DISS OFF!")):_("",!0),T(" Your "+y(s(l)[s(n)].subject)+" is so "+y(s(l)[s(n)].adjective)+"... ",1)]),W(j(P,{class:"p-button-outlined p-button-rounded refresh mb-4",icon:"pi pi-refresh","aria-label":"Filter",onClick:S},null,512),[[F,"Select a new card"]]),i("div",Q,[(u(!0),c(C,null,q(s(a).slice(0,6),(D,O)=>(u(),c("div",{key:O,class:U(["col col-12 sm:col-6 md:col-4 lg:col-2 xl:col answer-card mx-2 mb-3",D.category])},y(D.punchline),3))),128)),X]),i("button",{class:"button cursor-pointer mb-6",onClick:M}," Start A New Round ")],64)):_("",!0)])):_("",!0)}}};export{te as default};
