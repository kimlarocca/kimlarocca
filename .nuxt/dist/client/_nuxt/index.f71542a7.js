import{b as M,r as c,m,u as s,c as i,F as D,a as n,q as y,h as T,t as _,w as V,f as R,p as O,k as q,d as z,e as K,o as u,s as U}from"./entry.39ba88e4.js";const Y={key:0,class:"diss-card text-center"},G=n("h1",{class:"mb-6"},"Diss Card",-1),H={class:"card"},J={key:0},Q={class:"grid mt-4 mb-6 justify-content-center"},W=n("div",{class:"col col-12 md:col-3 lg:col-2 xl:col answer-card mx-2 mb-3"},[n("textarea",{type:"text",class:"w-full",placeholder:"Enter your own punchline here!"})],-1),$={__name:"index",async setup(X){let a,o;const b=q(),h=M(b.supabaseUrl,b.supabaseKey),p=c(null),l=c([]),r=c(0),f=c(!1),t=c(null),v=c(null);let{data:w}=([a,o]=m(()=>h.from("subjects").select("*").order("subject")),a=await a,o(),a);w&&(v.value=w);let{data:g}=([a,o]=m(()=>h.from("adjectives").select("*").order("adjective")),a=await a,o(),a);g&&(p.value=g);let S={category:"SPECIAL",punchline:"Dismiss! I'm rubber, you're glue! (Block any card played by another player.)"},k={category:"SPECIAL",punchline:"Disallow! Target player can't play a card."},A={category:"SPECIAL",punchline:"Discard! Take any card from another player's hand."},I={category:"SPECIAL",punchline:"Discombobulate! Automatically win the round!"},E={category:"SPECIAL",punchline:"Disembowel! Target player (or yourself) draws a new hand of cards."},L={category:"SPECIAL",punchline:"Disheveled! Swap any playerâ€™s hand with another player's hand."};for(let e=0;e<v.value.length;e++)for(let d=0;d<p.value.length;d++)l.value.push({subject:v.value[e].subject,adjective:p.value[d].adjective});l.value.sort(()=>Math.random()-.5);const j=()=>{r.value++,f.value=Math.random()<.2},B=()=>{var e;t.value.sort(()=>Math.random()-.5),((e=l.value)==null?void 0:e.length)-1===r.value?(l.value.sort(()=>Math.random()-.5),r.value=0):j()};let{data:C}=([a,o]=m(()=>h.from("punchlines").select("*").order("id")),a=await a,o(),a);if(C){t.value=C;for(let e=0;e<20;e++)t.value.push(S),t.value.push(A),t.value.push(E),t.value.push(k),t.value.push(L);for(let e=0;e<10;e++)t.value.push(I);t.value.sort(()=>Math.random()-.5)}return(e,d)=>{const N=z("Button"),P=K("tooltip");return s(t)?(u(),i("div",Y,[G,s(l)&&s(l)[s(r)]?(u(),i(D,{key:0},[n("div",H,[s(f)?(u(),i("span",J,"DISS OFF!")):y("",!0),T(" Your "+_(s(l)[s(r)].subject)+" is so "+_(s(l)[s(r)].adjective)+"... ",1)]),V(R(N,{class:"p-button-outlined p-button-rounded refresh mb-4",icon:"pi pi-refresh","aria-label":"Filter",onClick:j},null,512),[[P,"Select a new card"]]),n("div",Q,[(u(!0),i(D,null,O(s(t).slice(0,6),(x,F)=>(u(),i("div",{key:F,class:U(["col col-4 md:col-3 lg:col-2 xl:col answer-card mx-2 mb-3",x.category])},_(x.punchline),3))),128)),W]),n("button",{class:"button cursor-pointer mb-6",onClick:B}," Start A New Round ")],64)):y("",!0)])):y("",!0)}}};export{$ as default};
