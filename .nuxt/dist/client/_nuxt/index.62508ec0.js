import{b as N,r as n,m,u as s,c as i,F as C,a as c,t as _,w as M,f as P,p as F,q as x,k as R,d as V,e as q,o as d,s as z}from"./entry.8093eb23.js";const K={key:0,class:"diss-card text-center"},U=c("h1",{class:"mb-6"},"Diss Card",-1),W={class:"card"},Y={class:"grid mt-4 mb-6 justify-content-center"},G=c("div",{class:"col col-4 md:col-3 lg:col-2 xl:col answer-card mx-2 mb-3"},[c("textarea",{type:"text",class:"w-full",placeholder:"Enter your own punchline here!"})],-1),O={__name:"index",async setup(H){let e,o;const b=R(),h=N(b.supabaseUrl,b.supabaseKey),p=n(null),l=n([]),r=n(0),a=n(null),v=n(null);let{data:y}=([e,o]=m(()=>h.from("subjects").select("*").order("subject")),e=await e,o(),e);y&&(v.value=y);let{data:f}=([e,o]=m(()=>h.from("adjectives").select("*").order("adjective")),e=await e,o(),e);f&&(p.value=f);let k={category:"SPECIAL",punchline:"I'm rubber, you're glue! (Block any card played by another player.)"},D={category:"SPECIAL",punchline:"Discard a Diss Card! (Swap any card with another player.)"},I={category:"SPECIAL",punchline:"I know you are, but what am I? (Automatically win the round.)"},S={category:"SPECIAL",punchline:"What-eveeer. (Draw a new hand of cards.)"};for(let t=0;t<v.value.length;t++)for(let u=0;u<p.value.length;u++)l.value.push({subject:v.value[t].subject,adjective:p.value[u].adjective});l.value.sort(()=>Math.random()-.5);const w=()=>{r.value++},A=()=>{var t;a.value.sort(()=>Math.random()-.5),((t=l.value)==null?void 0:t.length)-1===r.value?(l.value.sort(()=>Math.random()-.5),r.value=0):w()};let{data:g}=([e,o]=m(()=>h.from("punchlines").select("*").order("id")),e=await e,o(),e);if(g){a.value=g;for(let t=0;t<50;t++)a.value.push(k),a.value.push(D),a.value.push(I),a.value.push(S);a.value.sort(()=>Math.random()-.5)}return(t,u)=>{const B=V("Button"),E=q("tooltip");return s(a)?(d(),i("div",K,[U,s(l)&&s(l)[s(r)]?(d(),i(C,{key:0},[c("div",W," Your "+_(s(l)[s(r)].subject)+" is so "+_(s(l)[s(r)].adjective)+"... ",1),M(P(B,{class:"p-button-outlined p-button-rounded refresh mb-4",icon:"pi pi-refresh","aria-label":"Filter",onClick:w},null,512),[[E,"Select a new card"]]),c("div",Y,[(d(!0),i(C,null,F(s(a).slice(0,6),(j,L)=>(d(),i("div",{key:L,class:z(["col col-4 md:col-3 lg:col-2 xl:col answer-card mx-2 mb-3",j.category])},_(j.punchline),3))),128)),G]),c("button",{class:"button cursor-pointer mb-6",onClick:A}," Start A New Round ")],64)):x("",!0)])):x("",!0)}}};export{O as default};
